const deleteUrls = new Map(
    [
        ['category', '/Category/Delete'],
        ['artist', '/Artist/Delete']
    ]
);

$(document).ready(function () {
    $("#basic-alert").on("click", function () {
        Swal.fire({
            title: "Any fool can use a computer",
            confirmButtonClass: "btn btn-primary",
            buttonsStyling: !1,
        });
    }),
        $("#with-title").on("click", function () {
            Swal.fire({
                title: "The Internet?,",
                text: "That thing is still around?",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#footer-alert").on("click", function () {
            Swal.fire({
                type: "error",
                title: "Oops...",
                text: "Something went wrong!",
                footer: "<a href>Why do I have this issue?</a>",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#html-alert").on("click", function () {
            Swal.fire({
                title: "<strong>HTML <u>example</u></strong>",
                type: "info",
                html: 'You can use <b>bold text</b>, <a href="https://pixinvent.com/" target="_blank">links</a> and other HTML tags',
                showCloseButton: !0,
                showCancelButton: !0,
                focusConfirm: !1,
                confirmButtonText: '<i class="fa fa-thumbs-up"></i> Great!',
                confirmButtonAriaLabel: "Thumbs up, great!",
                cancelButtonText: '<i class="fa fa-thumbs-down"></i>',
                cancelButtonAriaLabel: "Thumbs down",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
                cancelButtonClass: "btn btn-danger ml-1",
            });
        }),
        $("#position-top-start").on("click", function () {
            Swal.fire({
                position: "top-start",
                type: "success",
                title: "Your work has been saved",
                showConfirmButton: !1,
                timer: 1500,
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#position-top-end").on("click", function () {
            Swal.fire({
                position: "top-end",
                type: "success",
                title: "Your work has been saved",
                showConfirmButton: !1,
                timer: 1500,
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#position-bottom-start").on("click", function () {
            Swal.fire({
                position: "bottom-start",
                type: "success",
                title: "Your work has been saved",
                showConfirmButton: !1,
                timer: 1500,
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#position-bottom-end").on("click", function () {
            Swal.fire({
                position: "bottom-end",
                type: "success",
                title: "Your work has been saved",
                showConfirmButton: !1,
                timer: 1500,
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#bounce-in-animation").on("click", function () {
            Swal.fire({
                title: "Bounce In Animation",
                animation: !1,
                customClass: "animated bounceIn",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#fade-in-animation").on("click", function () {
            Swal.fire({
                title: "Fade In Animation",
                animation: !1,
                customClass: "animated fadeIn",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#flip-x-animation").on("click", function () {
            Swal.fire({
                title: "Flip In Animation",
                animation: !1,
                customClass: "animated flipInX",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#tada-animation").on("click", function () {
            Swal.fire({
                title: "Tada Animation",
                animation: !1,
                customClass: "animated tada",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#shake-animation").on("click", function () {
            Swal.fire({
                title: "Shake Animation",
                animation: !1,
                customClass: "animated shake",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#type-success").on("click", function () {
            Swal.fire({
                title: "Good job!",
                text: "You clicked the button!",
                type: "success",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#type-info").on("click", function () {
            Swal.fire({
                title: "Info!",
                text: "You clicked the button!",
                type: "info",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#type-warning").on("click", function () {
            Swal.fire({
                title: "Warning!",
                text: " You clicked the button!",
                type: "warning",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#type-error").on("click", function () {
            Swal.fire({
                title: "Error!",
                text: " You clicked the button!",
                type: "error",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#custom-icon").on("click", function () {
            Swal.fire({
                title: "Sweet!",
                text: "Modal with a custom image.",
                imageUrl: "../../../app-assets/images/slider/04.jpg",
                imageWidth: 400,
                imageHeight: 200,
                imageAlt: "Custom image",
                animation: !1,
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#auto-close").on("click", function () {
            var t;
            Swal.fire({
                title: "Auto close alert!",
                html: "I will close in <strong></strong> seconds.",
                timer: 2e3,
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
                onBeforeOpen: function () {
                    Swal.showLoading(),
                        (t = setInterval(function () {
                            Swal.getContent().querySelector("strong").textContent =
                                Swal.getTimerLeft();
                        }, 100));
                },
                onClose: function () {
                    clearInterval(t);
                },
            }).then(function (t) {
                t.dismiss === Swal.DismissReason.timer &&
                    console.log("I was closed by the timer");
            });
        }),
        $("#outside-click").on("click", function () {
            Swal.fire({
                title: "Click outside to close!",
                text: "This is a cool message!",
                allowOutsideClick: !0,
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
            });
        }),
        $("#prompt-function").on("click", function () {
            Swal.mixin({
                input: "text",
                confirmButtonText: "Next &rarr;",
                showCancelButton: !0,
                progressSteps: ["1", "2", "3"],
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
                cancelButtonClass: "btn btn-danger ml-1",
            })
                .queue([
                    { title: "Question 1", text: "Chaining swal2 modals is easy" },
                    "Question 2",
                    "Question 3",
                ])
                .then(function (t) {
                    t.value &&
                        Swal.fire({
                            title: "All done!",
                            html:
                                "Your answers: <pre><code>" +
                                JSON.stringify(t.value) +
                                "</code></pre>",
                            confirmButtonText: "Lovely!",
                        });
                });
        }),
        $("#ajax-request").on("click", function () {
            Swal.fire({
                title: "Search for a user",
                input: "text",
                confirmButtonClass: "btn btn-primary",
                buttonsStyling: !1,
                inputAttributes: { autocapitalize: "off" },
                showCancelButton: !0,
                confirmButtonText: "Look up",
                showLoaderOnConfirm: !0,
                cancelButtonClass: "btn btn-danger ml-1",
                preConfirm: function (t) {
                    return fetch("//api.github.com/users/" + t)
                        .then(function (t) {
                            if (!t.ok) throw (console.log(t), new Error(t.statusText));
                            return t.json();
                        })
                        .catch(function (t) {
                            Swal.showValidationMessage("Request failed:  " + t);
                        });
                },
                allowOutsideClick: function () {
                    Swal.isLoading();
                },
            }).then(function (t) {
                t.value &&
                    Swal.fire({
                        title: t.value.login + "'s avatar",
                        imageUrl: t.value.avatar_url,
                    });
            });
        }),
        $(".confirm-text").on("click", function () {
            var id = $(this).data("id");
            var type = $(this).data("type");
            var url = deleteUrls.get(type);
            console.log(id);
            console.log(type);
            console.log(url);
            Swal.fire({
                title: "Bạn có muốn xóa mục đã chọn?",
                text: "Hành động này không thể hoàn tác!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Xóa",
                confirmButtonClass: "btn btn-primary",
                cancelButtonClass: "btn btn-danger ml-1",
                buttonsStyling: false,
            }).then(function (result) {
                if (result.isConfirmed) {
                    deleteItem(url, id)
                        .then((response) => {
                            if (response.success) {
                                Swal.fire({
                                    icon: "success",
                                    title: "Xóa thành công!",
                                    text: response.message,
                                    confirmButtonClass: "btn btn-success",
                                }).then(() => {
                                    window.location.reload();
                                });
                            } else {
                                Swal.fire({
                                    icon: "error",
                                    title: "Xóa không thành công!",
                                    text: response.message,
                                    confirmButtonClass: "btn btn-success",
                                }).then(() => {
                                    window.location.reload();
                                });
                            }
                        })
                        .catch((err) => {
                            Swal.fire({
                                icon: "error",
                                title: "Lỗi!",
                                text: err.message,
                                confirmButtonClass: "btn btn-danger",
                            });
                        });
                }
            });
        });

    $("#confirm-color").on("click", function () {
        // Xử lý cho sự kiện confirm-color tương tự
        Swal.fire({
            title: "Bạn có chắc chắn không?",
            text: "Hành động này không thể hoàn tác!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Đồng ý",
            confirmButtonClass: "btn btn-primary",
            cancelButtonClass: "btn btn-danger ml-1",
            buttonsStyling: false,
        }).then(function (result) {
            if (result.isConfirmed) {
                // Thực hiện hành động bạn muốn khi nhấn "Đồng ý"
                Swal.fire({
                    icon: "success",
                    title: "Đã xác nhận!",
                    text: "Hành động đã được thực hiện!",
                    confirmButtonClass: "btn btn-success",
                });
            } else if (result.dismiss === Swal.DismissReason.cancel) {
                Swal.fire({
                    title: "Hủy bỏ",
                    text: "Hành động của bạn đã được hủy.",
                    icon: "error",
                    confirmButtonClass: "btn btn-success",
                });
            }
        });
    });

    // Hàm xóa
    function deleteItem(url, id) {
        return new Promise((resolve, reject) => {
            $.ajax({
                url: url,
                method: "POST",
                data: { id: id },
                success: function (response) {
                    resolve(response);
                },
                error: function (response) {
                    reject(response);
                },
            });
        });
    }

    $(".delete-painting").on("click", function () {
        var id = $(this).data("id");
        console.log(id);
        Swal.fire({
            title: "Bạn có muốn xóa tranh đã chọn?",
            text: "Hành động này không thể hoàn tác!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Xóa",
            confirmButtonClass: "btn btn-primary",
            cancelButtonClass: "btn btn-danger ml-1",
            buttonsStyling: false,
        }).then(function (result) {
            if (result.isConfirmed) {
                // Thực hiện hành động bạn muốn khi nhấn "Đồng ý"
                $.ajax({
                    url: "/Painting/Delete",
                    method: "POST",
                    data: { id: id },
                    success: function (response) {
                        if (response.success) {
                            Swal.fire({
                                icon: "success",
                                title: "Xóa thành công!",
                                text: response.message,
                                confirmButtonClass: "btn btn-success",
                            }).then(() => {
                                window.location.reload();
                            });
                        } else {
                            Swal.fire({
                                icon: "error",
                                title: "Xóa không thành công!",
                                text: response.message,
                                confirmButtonClass: "btn btn-success",
                            }).then(() => {
                                window.location.reload();
                            });
                        }
                    },
                    error: function (response) {
                        reject(response);
                    },
                });
                
            } else if (result.dismiss === Swal.DismissReason.cancel) {
                Swal.fire({
                    title: "Hủy bỏ",
                    text: "Hành động của bạn đã được hủy.",
                    icon: "error",
                    confirmButtonClass: "btn btn-success",
                });
            }
        });
    });

});
